# Part-02

## Colocation

We can create as many files as we want inside folder but the route will only render the function which is exported default inside `page.tsx`.

## Private Folders

- A private folder indicates that it is a private implementation detail and should not considered by the routing system.
- The folder and all its subfolder are excluded from routing.
- Prefix the folder name with an underscore.

`Advantages`

- For spearating UI logic from routing logic.
- For consistently organizing internal files across a project.
- For sorting and grouping files in code editors.
- For avoiding potention naming conflicts with future Next.js file conventions.
- for underscore you can use "%5F"

## Route Groups

One type of route folder can be grouped inside a single folder, for example `Register`, `login` and `forgot-password` should be in single folder for easy understanding but should enclosed in parenthesis `(auth)`

## Layouts

A layout is UI that is shared between the pages.

```tsx
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <header className="bg-red-700 text-white text-center">
          <h2>Header</h2>
        </header>
        {children}
        <footer className="bg-blue-700 absolute bottom-0 w-full h-20 leading-[80px] text-2xl  text-white text-center">
          <h2>Footer</h2>
        </footer>
      </body>
    </html>
  );
}
```

- You can create nested layout for particular areaas of application.

### Route Group Layout

- To organize your project in a manner that doesn't affect the URL.
- To selectively apply a layout to certain segments while leaving others unchanged

## Routing Metadata

Ensures proper SEO is crucial for increasing visibility and attracting users.

- Next.js introduced the Metadata API which allows you to define metadata for each page.
- Metadata ensures accurate and relevant information is displayed when your pages are shared or indexed.

`Configuring Metadata`

1. Export a static metadata object.
2. Export a dynamic generateMetadata function

`Metadata Rules`

- Both layout.tsx and page.tsx files can export metadata. If defined in a layout applies to all pages in tha layout, but fi defined in a page, it applies only to page.
- Metadata is read in order, from the root level down to the final page level.
- When there's metadata in multiple place for the same route, they get combined but pge metadata will replace layout metadata if they have the same properties.

`Static Metadata`

```tsx
export const metadata = {
  title: "About",
};

const page = () => {
  return (
    <div>
      <h2>About page</h2>
    </div>
  );
};

export default page;
```

`Dynamic Metadata`

```tsx
import { Metadata } from "next";

type Props = {
  params: {
    productId: string;
  };
};

export const generateMetadata = ({ params }: Props): Metadata => {
  return {
    title: `Product ${params.productId}`,
  };
};

export default function Product({ params }: Props) {
  return <h2>Single Product Page and id is:{params.productId} </h2>;
}
```

### Title Metadata

The title fields' primary purpose is to define the document title.
It can either a string or an object.

`String title`

```tsx
export const metadata = {
  title: "About",
};
```

`Object Title`

```tsx
export const metadata: Metadata = {
  title: {
    absolute: "",
    default: "",
    template: "",
  },
};
```

**absolute:** This field is used to set an absolute title for the page. When this is set, it overrides any other title settings. It is useful for setting a specific title that should not change or be templated.

**default:** This sets the default title for your pages. If no specific title is provided for a page, this default title will be used.

**template:** This field allows you to define a template for the title. It typically includes placeholders that can be replaced with actual values. This is useful for maintaining a consistent title structure across different pages.

```tsx
// app/layout.js or app/page.js
import { Metadata } from "next";

export const metadata: Metadata = {
  title: {
    absolute: "My Absolute Title",
    default: "My Default Title",
    template: "%s | My Website",
  },
};

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <head>
        <title>{metadata.title.default}</title>
      </head>
      <body>{children}</body>
    </html>
  );
}
```

## Navigation

Users rely on UI elements like links to navigate.

`<Link>` is as like `<a>` tag.
we need to import from `next/link`

```tsx
import Link from "next/link";

export default function Home() {
  return (
    <>
      <Link href="/about">About</Link>
      <Link href="/about replace">About</Link>
    </>
  );
}
```

You can use `replace` to remove the history stack.

### Active Links

```tsx
// components/NavLink.js
import { usePathname } from "next/navigation";
import Link from "next/link";
import styles from "./NavLink.module.css"; // Assuming you are using CSS modules

const NavLink = ({ href, children }) => {
  const pathname = usePathname();

  const isActive = pathname === href;

  return (
    <Link href={href}>
      <a className={isActive ? styles.active : ""}>{children}</a>
    </Link>
  );
};

export default NavLink;
```

### Navigating programmatically

```tsx
// pages/index.js
import { useRouter } from "next/router";

const HomePage = () => {
  const router = useRouter();

  const handleClick = () => {
    // Programmatically navigate to the about page
    router.push("/about");
  };

  return (
    <div>
      <h1>Home Page</h1>
      <button onClick={handleClick}>Go to About Page</button>
    </div>
  );
};

export default HomePage;
```
